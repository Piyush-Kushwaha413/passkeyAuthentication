<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>passkey</title>
</head>
<body>
    <form action="" id="register-form">
        <input type="text" placeholder="UserName" id="username">
        <input type="text" placeholder="password" id="password">
        <button type="submit">submit</button>
    </form>

    <script>

        const form = document.getElementById("register-form")
        const userNameField = document.getElementById('username')
        const passwordField = document.getElementById('password')
       
        form.addEventListener('submit',async (e)=>{
            e.preventDefault()
console.log("submit button ");
console.log(userNameField.value,passwordField.value);

            const response = await fetch('/register',{
                method:'POST',
                headers:{
                    'content-Type': 'application/json'
                },
                body:JSON.stringify({ 
                    username:userNameField.value,
                    password:passwordField.value
        
                } )
            })

            const result = await response.json()
            const {id} = result
            window.location.replace(`https://passkeyauthentication.onrender.com/profile.html?userId=${id}`)

            console.log(id);

        })
    </script>
    
</body>
</html>